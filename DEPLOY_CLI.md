# Публикация CLI в npm

## 1. Подготовка репозитория HzStack

Убедись, что основной проект залит на GitHub:

```bash
git remote add origin https://github.com/hzpunk/hzstack.git
git push -u origin master
```

## 2. Настройка CLI пакета

### Установка зависимостей

```bash
cd cli
npm install
```

### Сборка проекта

```bash
npm run build
```

### Тестирование локально

```bash
# Создаем символическую ссылку для тестирования
npm link

# Тестируем CLI
create-hzstack test-app
```

## 3. Публикация в npm

### Логин в npm

```bash
npm login
```

### Проверка доступности имени

```bash
npm view create-hzstack
```

Если пакет не найден - имя свободно.

### Публикация

```bash
npm publish
```

## 4. Использование

После публикации любой пользователь сможет создать проект:

```bash
npx create-hzstack my-app
```

## 5. Обновление CLI

Для обновления версии:

1. Измени версию в `cli/package.json`
2. Собери проект: `npm run build`
3. Опубликуй: `npm publish`

## 6. Структура файлов

```
cli/
├── src/
│   └── index.ts          # Основной CLI код
├── dist/                  # Скомпилированные файлы
├── package.json           # Пакет CLI
├── tsconfig.json          # TypeScript конфиг
├── README.md              # Документация CLI
└── .gitignore             # Git ignore
```

## 7. Что делает CLI

1. **Клонирует репозиторий** `hzpunk/hzstack`
2. **Очищает** от `.git`, `node_modules`, lock-файлов
3. **Обновляет** `package.json` с новым именем проекта
4. **Устанавливает** зависимости (опционально)
5. **Показывает** инструкции по настройке

## 8. Безопасность

- CLI не хранит секреты
- Использует публичный репозиторий
- Очищает чувствительные данные
- Проверяет входные данные

## 9. Поддержка

Если возникнут проблемы:

1. Проверь версию Node.js (>=18.0.0)
2. Убедись что git установлен
3. Проверь доступ к GitHub
4. Создай issue в репозитории

---

**Важно**: Перед публикацией убедись, что основной проект `HzStack` полностью готов и задокументирован!
